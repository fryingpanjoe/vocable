<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
                <script type="text/javascript" charset="UTF-8" src="js/listHandler.js"></script>

	</head>
	<body>
            
            <select id="lists"></select><br />
            <button id="btnCreateDummyLists" accesskey="l">Create dummy lists</button><br />
            <ul id="list"></ul>
            <script type="text/javascript" charset="UTF-8">
                //onLoad
                (function() {
                    populateListSelector();
                    
                    var btnCreateDummyLists = document.getElementById('btnCreateDummyLists');
                    btnCreateDummyLists.addEventListener("click", function(e){
                        createDummyLists();
                    }, false);

                    var lists = document.getElementById('lists');
                    lists.addEventListener('change', function(e){
                       ListHandler.loadList(lists.options[lists.selectedIndex].value);

                       var list = document.getElementById('list');
                       list.innerHTML = '';
                       for(var i=0; i < ListHandler.list.length; i++){
                           var li = document.createElement("li");
                           li.innerHTML = ListHandler.list[i][0]+' = '+ListHandler.list[i][1];
                           list.appendChild(li);
                       }
                    }, false);
                    
                })();
                
                function populateListSelector(){
                    ListHandler.loadLists();
                    
                    if(ListHandler.lists != null){
                        var lists = document.getElementById('lists');
                        for(var i = 0; i < ListHandler.lists.length; i++){
                            var option = document.createElement("option");
                            option.text=ListHandler.lists[i];
                            option.value=ListHandler.lists[i];
                            lists.appendChild(option);
                        }
                    }
                }
                
                function createDummyLists(){
                    ListHandler.list = [['katt', 'cat'], ['hund', 'dog'], ['fågel','bird']];
                    ListHandler.saveList('first');

                    ListHandler.list = [['förlorad', 'lost'], ['död', 'dead']];
                    ListHandler.saveList('second');         
                    populateListSelector();
                }
            </script>            
	</body>
</html>